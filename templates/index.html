<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Studility - AI Notebook</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        <style>
        :root {
    --bg: #f4f4f9;
    --sidebar: #ffffff;
    --accent: #4a90e2;
    --text: #333;
}

body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
.container { max-width: 600px; margin: 0 auto; padding: 2rem; text-align: center; }
.center-screen { display: flex; flex-direction: column; justify-content: center; height: 100vh; }

/* Layout */
.app-layout { display: flex; height: 100vh; }
.sidebar { width: 300px; background: var(--sidebar); border-right: 1px solid #ddd; padding: 1rem; overflow-y: auto; display: flex; flex-direction: column; }
.main-content { flex: 1; display: flex; flex-direction: column; padding: 1rem; }

/* Components */
input, textarea, button { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
button { background: var(--accent); color: white; border: none; cursor: pointer; font-weight: bold; }
button:hover { opacity: 0.9; }

.source-item { background: #f0f0f0; padding: 8px; margin-bottom: 5px; border-radius: 4px; font-size: 0.9rem; }

/* Chat */
#chat-box { flex: 1; overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: 10px; }
.message { display: flex; }
.message.user { justify-content: flex-end; }
.message.ai { justify-content: flex-start; }
.bubble { max-width: 70%; padding: 10px 15px; border-radius: 15px; background: #e1e1e1; }
.message.user .bubble { background: var(--accent); color: white; }

.chat-input-area { display: flex; gap: 10px; padding-top: 10px; }

/* Modal */
.modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; }
.modal.hidden { display: none; }
.modal-content { background: white; padding: 2rem; border-radius: 8px; max-width: 600px; width: 90%; max-height: 80vh; overflow: auto; position: relative; }
.close { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; }

/* Util */
.success-box { background: #d4edda; color: #155724; padding: 20px; border-radius: 8px; border: 1px solid #c3e6cb; }
.pass { font-family: monospace; background: white; padding: 2px 5px; border: 1px solid #aaa; }
.warning { color: #856404; font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="container center-screen">
        <h1>Studility</h1>
        <p>AI-Powered Notebooks. Shareable. Smart.</p>
        
        {% if new_notebook %}
            <div class="success-box">
                <h3>Notebook Created!</h3>
                <p><strong>Share Link:</strong> <a href="{{ url_for('view_notebook', notebook_id=new_notebook.id) }}">{{ url_for('view_notebook', notebook_id=new_notebook.id, _external=True) }}</a></p>
                <p><strong>Edit Password:</strong> <code class="pass">{{ raw_password }}</code></p>
                <p class="warning">Save this password! You cannot recover it.</p>
                <a href="{{ url_for('view_notebook', notebook_id=new_notebook.id) }}" class="btn">Go to Notebook</a>
            </div>
        {% else %}
            <form action="/create" method="POST" class="create-form">
                <input type="text" name="username" placeholder="Your Name" required>
                <button type="submit">Create New Notebook</button>
            </form>
        {% endif %}
    </div>
</body>
</html>